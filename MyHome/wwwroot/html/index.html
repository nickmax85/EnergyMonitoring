<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>


    <link href="../css/bootstrap.min.css" rel="stylesheet" />

    <script src="../js/jquery-3.4.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>

</head>
<body>

    <ul id="sessions" class="list-group">
    </ul>

    <button class="btn btn-warning" id="refreshButton">Refresh</button>


    <script>

        $(document).ready(function () {

            $('#refreshButton').click(function () {

                getValues();

            });



        });


        function getValues() {
            //let url = '/api/values';
            let url = 'http://192.168.0.190:1880/heizung/ta';
            //$.getJSON(url, { user: "name", password: "123456" })
            $.getJSON(url)
                .done(function (data) {
                    //let data = JSON.parse(ddata.d);

                    showData(data.Data.Inputs);
                    // alert(JSON.stringify(data));
                    //debugger;

                })
                .fail(function (error) {
                    alert("ERROR: " + error.status + ' ' + error.statusText);
                });

        }


        function showData(data) {

            let container = $('#sessions');
            container.empty();

            debugger;

            if (!Array.isArray(
                data))
                return;

            data.forEach(function (item, i) {


                debugger;
                //<input type="checkbox" id="1" />abc
                let li = $('<li class="list-group-item">');
                let label = $('<label>').html(item.Number);

                li.append(label);
                container.append(li);
            });
        }

    </script>
</body>
</html>